<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ö‡πâ‡∏≤‡∏ô</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }

      .container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #555;
      }

      input,
      select,
      textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        box-sizing: border-box;
      }

      textarea {
        height: 100px;
        resize: vertical;
      }

      .file-input-container {
        border: 2px dashed #ddd;
        border-radius: 10px;
        padding: 20px;
        text-align: center;
        background-color: #fafafa;
        transition: border-color 0.3s;
      }

      .file-input-container:hover {
        border-color: #007bff;
      }

      .file-input-container.dragover {
        border-color: #007bff;
        background-color: #e3f2fd;
      }

      #imageInput {
        display: none;
      }

      .upload-button {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin: 10px 5px;
      }

      .upload-button:hover {
        background-color: #0056b3;
      }

      .submit-button {
        background-color: #28a745;
        color: white;
        padding: 12px 30px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        width: 100%;
        margin-top: 20px;
      }

      .submit-button:hover {
        background-color: #218838;
      }

      .submit-button:disabled {
        background-color: #6c757d;
        cursor: not-allowed;
      }

      .preview-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 10px;
        margin-top: 20px;
      }

      .preview-item {
        position: relative;
        border: 1px solid #ddd;
        border-radius: 5px;
        overflow: hidden;
      }

      .preview-item img {
        width: 100%;
        height: 120px;
        object-fit: cover;
      }

      .preview-item .remove-btn {
        position: absolute;
        top: 5px;
        right: 5px;
        background: rgba(255, 0, 0, 0.8);
        color: white;
        border: none;
        border-radius: 50%;
        width: 25px;
        height: 25px;
        cursor: pointer;
        font-size: 12px;
      }

      .preview-item .file-name {
        padding: 5px;
        font-size: 12px;
        background: #f8f9fa;
        text-align: center;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .progress-container {
        margin-top: 20px;
        display: none;
      }

      .progress-bar {
        width: 100%;
        height: 20px;
        background-color: #e9ecef;
        border-radius: 10px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background-color: #007bff;
        width: 0%;
        transition: width 0.3s;
      }

      .result {
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
        display: none;
      }

      .result.success {
        background-color: #d4edda;
        border: 1px solid #c3e6cb;
        color: #155724;
      }

      .result.error {
        background-color: #f8d7da;
        border: 1px solid #f5c6cb;
        color: #721c24;
      }

      .auth-section {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
      }

      .row {
        display: flex;
        gap: 15px;
      }

      .col {
        flex: 1;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üè† ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ö‡πâ‡∏≤‡∏ô</h1>

      <!-- Authentication Section -->
      <div class="auth-section">
        <h3>üîê ‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô</h3>
        <div class="form-group">
          <label for="authToken">JWT Token:</label>
          <input
            type="text"
            id="authToken"
            placeholder="‡πÉ‡∏™‡πà JWT token ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ login"
          />
        </div>
      </div>

      <!-- House Information Form -->
      <form id="houseForm">
        <h3>üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô</h3>

        <div class="form-group">
          <label for="title">‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡πâ‡∏≤‡∏ô *</label>
          <input
            type="text"
            id="title"
            required
            placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß 2 ‡∏ä‡∏±‡πâ‡∏ô ‡∏¢‡πà‡∏≤‡∏ô‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó"
          />
        </div>

        <div class="form-group">
          <label for="description">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label>
          <textarea
            id="description"
            placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô"
          ></textarea>
        </div>

        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="price">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó) *</label>
              <input type="number" id="price" required placeholder="15000000" />
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="houseType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡πâ‡∏≤‡∏ô *</label>
              <select id="houseType" required>
                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡πâ‡∏≤‡∏ô</option>
                <option value="DETACHED_HOUSE">‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß</option>
                <option value="TOWNHOUSE">‡∏ó‡∏≤‡∏ß‡∏ô‡πå‡πÄ‡∏Æ‡∏≤‡∏™‡πå</option>
                <option value="CONDO">‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î</option>
                <option value="APARTMENT">‡∏≠‡∏û‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏°‡∏ô‡∏ó‡πå</option>
                <option value="COMMERCIAL">‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå</option>
                <option value="LAND">‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô</option>
              </select>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="address">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà *</label>
          <input
            type="text"
            id="address"
            required
            placeholder="123/45 ‡∏ã‡∏≠‡∏¢‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó 21"
          />
        </div>

        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="city">‡πÄ‡∏°‡∏∑‡∏≠‡∏á/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ *</label>
              <input type="text" id="city" required placeholder="‡∏ß‡∏±‡∏í‡∏ô‡∏≤" />
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="province">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î *</label>
              <input
                type="text"
                id="province"
                required
                placeholder="‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£"
              />
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="postalCode">‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå</label>
              <input
                type="text"
                id="postalCode"
                placeholder="10110"
                pattern="[0-9]{5}"
              />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="bedrooms">‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô *</label>
              <input
                type="number"
                id="bedrooms"
                required
                min="0"
                max="20"
                placeholder="3"
              />
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="bathrooms">‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥ *</label>
              <input
                type="number"
                id="bathrooms"
                required
                min="1"
                max="20"
                placeholder="2"
              />
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="area">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≠‡∏¢ (‡∏ï‡∏£.‡∏°.) *</label>
              <input
                type="number"
                id="area"
                required
                min="1"
                step="0.1"
                placeholder="150.5"
              />
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="landArea">‡∏Ç‡∏ô‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô (‡∏ï‡∏£.‡∏ß.)</label>
              <input
                type="number"
                id="landArea"
                min="0"
                step="0.1"
                placeholder="200"
              />
            </div>
          </div>
        </div>

        <!-- Image Upload Section -->
        <h3>üì∏ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ö‡πâ‡∏≤‡∏ô</h3>
        <div class="form-group">
          <div class="file-input-container" id="fileInputContainer">
            <p>üñºÔ∏è ‡∏•‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏´‡∏£‡∏∑‡∏≠</p>
            <button
              type="button"
              class="upload-button"
              onclick="document.getElementById('imageInput').click()"
            >
              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
            </button>
            <input type="file" id="imageInput" multiple accept="image/*" />
            <p style="font-size: 12px; color: #666; margin-top: 10px">
              ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö: JPEG, PNG, WebP, GIF | ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 30 ‡πÑ‡∏ü‡∏•‡πå | ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
              10MB
            </p>
          </div>

          <div class="preview-container" id="previewContainer"></div>
        </div>

        <button type="submit" class="submit-button" id="submitButton">
          üè† ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
        </button>
      </form>

      <!-- Progress Bar -->
      <div class="progress-container" id="progressContainer">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p id="progressText">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...</p>
      </div>

      <!-- Result -->
      <div class="result" id="result"></div>
    </div>

    <script>
      const API_BASE_URL = "http://localhost:4000/v1/api";
      let selectedFiles = [];
      let createdHouseId = null;

      // File input handling
      const fileInput = document.getElementById("imageInput");
      const fileInputContainer = document.getElementById("fileInputContainer");
      const previewContainer = document.getElementById("previewContainer");

      fileInput.addEventListener("change", handleFileSelect);

      // Drag and drop handling
      fileInputContainer.addEventListener("dragover", (e) => {
        e.preventDefault();
        fileInputContainer.classList.add("dragover");
      });

      fileInputContainer.addEventListener("dragleave", () => {
        fileInputContainer.classList.remove("dragover");
      });

      fileInputContainer.addEventListener("drop", (e) => {
        e.preventDefault();
        fileInputContainer.classList.remove("dragover");
        const files = Array.from(e.dataTransfer.files);
        addFiles(files);
      });

      function handleFileSelect(e) {
        const files = Array.from(e.target.files);
        addFiles(files);
      }

      function addFiles(files) {
        // Filter image files only
        const imageFiles = files.filter((file) =>
          file.type.startsWith("image/")
        );

        if (imageFiles.length !== files.length) {
          showResult("‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö", "error");
        }

        // Check file size
        const oversizedFiles = imageFiles.filter(
          (file) => file.size > 10 * 1024 * 1024
        );
        if (oversizedFiles.length > 0) {
          showResult(
            `‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 10MB: ${oversizedFiles
              .map((f) => f.name)
              .join(", ")}`,
            "error"
          );
          return;
        }

        // Add to selected files
        selectedFiles = [...selectedFiles, ...imageFiles];

        // Check total file count
        if (selectedFiles.length > 30) {
          showResult("‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 30 ‡πÑ‡∏ü‡∏•‡πå", "error");
          selectedFiles = selectedFiles.slice(0, 30);
        }

        updatePreview();
      }

      function updatePreview() {
        previewContainer.innerHTML = "";

        selectedFiles.forEach((file, index) => {
          const previewItem = document.createElement("div");
          previewItem.className = "preview-item";

          const img = document.createElement("img");
          img.src = URL.createObjectURL(file);

          const fileName = document.createElement("div");
          fileName.className = "file-name";
          fileName.textContent = file.name;

          const removeBtn = document.createElement("button");
          removeBtn.className = "remove-btn";
          removeBtn.textContent = "√ó";
          removeBtn.onclick = () => removeFile(index);

          previewItem.appendChild(img);
          previewItem.appendChild(fileName);
          previewItem.appendChild(removeBtn);

          previewContainer.appendChild(previewItem);
        });
      }

      function removeFile(index) {
        selectedFiles.splice(index, 1);
        updatePreview();
      }

      // Form submission
      document
        .getElementById("houseForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();

          const authToken = document.getElementById("authToken").value.trim();
          if (!authToken) {
            showResult("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà JWT Token", "error");
            return;
          }

          if (selectedFiles.length < 5) {
            showResult("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 5 ‡∏£‡∏π‡∏õ", "error");
            return;
          }

          const submitButton = document.getElementById("submitButton");
          submitButton.disabled = true;
          submitButton.textContent = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...";

          try {
            // Step 1: Create house
            const houseData = {
              title: document.getElementById("title").value,
              description: document.getElementById("description").value,
              price: parseFloat(document.getElementById("price").value),
              address: document.getElementById("address").value,
              city: document.getElementById("city").value,
              province: document.getElementById("province").value,
              postalCode: document.getElementById("postalCode").value,
              bedrooms: parseInt(document.getElementById("bedrooms").value),
              bathrooms: parseInt(document.getElementById("bathrooms").value),
              area: parseFloat(document.getElementById("area").value),
              landArea: document.getElementById("landArea").value
                ? parseFloat(document.getElementById("landArea").value)
                : undefined,
              houseType: document.getElementById("houseType").value,
            };

            showProgress(0, "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô...");

            const houseResponse = await fetch(`${API_BASE_URL}/houses`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                Authorization: `Bearer ${authToken}`,
              },
              body: JSON.stringify(houseData),
            });

            const houseResult = await houseResponse.json();

            if (!houseResponse.ok) {
              throw new Error(
                houseResult.message || "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏î‡πâ"
              );
            }

            createdHouseId = houseResult.data.id;
            showProgress(30, "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û...");

            // Step 2: Upload images
            const formData = new FormData();
            selectedFiles.forEach((file) => {
              formData.append("images", file);
            });

            const imageResponse = await fetch(
              `${API_BASE_URL}/houses/${createdHouseId}/images`,
              {
                method: "POST",
                headers: {
                  Authorization: `Bearer ${authToken}`,
                },
                body: formData,
              }
            );

            const imageResult = await imageResponse.json();

            if (!imageResponse.ok) {
              throw new Error(
                imageResult.message || "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ"
              );
            }

            showProgress(100, "‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!");

            setTimeout(() => {
              hideProgress();
              showResult(
                `
                        <h4>üéâ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h4>
                        <p><strong>‡∏ö‡πâ‡∏≤‡∏ô ID:</strong> ${createdHouseId}</p>
                        <p><strong>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û:</strong> ${
                          imageResult.data.uploadedImages.length
                        } ‡∏£‡∏π‡∏õ</p>
                        ${
                          imageResult.data.errors
                            ? `<p><strong>‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:</strong> ${imageResult.data.errors.join(
                                ", "
                              )}</p>`
                            : ""
                        }
                        <p><a href="${API_BASE_URL.replace(
                          "/api",
                          ""
                        )}/api/houses/${createdHouseId}" target="_blank">‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô</a></p>
                    `,
                "success"
              );
            }, 1000);
          } catch (error) {
            hideProgress();
            showResult(`‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${error.message}`, "error");
          } finally {
            submitButton.disabled = false;
            submitButton.textContent = "üè† ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û";
          }
        });

      function showProgress(percent, text) {
        const progressContainer = document.getElementById("progressContainer");
        const progressFill = document.getElementById("progressFill");
        const progressText = document.getElementById("progressText");

        progressContainer.style.display = "block";
        progressFill.style.width = `${percent}%`;
        progressText.textContent = text;
      }

      function hideProgress() {
        document.getElementById("progressContainer").style.display = "none";
      }

      function showResult(message, type) {
        const result = document.getElementById("result");
        result.innerHTML = message;
        result.className = `result ${type}`;
        result.style.display = "block";

        // Auto hide after 10 seconds for success messages
        if (type === "success") {
          setTimeout(() => {
            result.style.display = "none";
          }, 10000);
        }
      }
    </script>
  </body>
</html>
